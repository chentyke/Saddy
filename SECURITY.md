# 安全政策 (Security Policy)

## 支持的版本 (Supported Versions)

当前正在接收安全更新的版本：

| 版本 | 支持状态 |
| ------- | ------------------ |
| 1.0.x   | :white_check_mark: |

## 报告漏洞 (Reporting a Vulnerability)

我们非常重视安全问题。如果你发现了安全漏洞，请遵循以下步骤：

### 请勿公开披露

**请不要**通过公开的 GitHub Issues 报告安全漏洞。

### 如何报告

请通过以下方式私下报告安全问题：

1. **优先方式**: 发送邮件至 [security@example.com](mailto:security@example.com)
2. **备选方式**: 通过 GitHub Security Advisory 私下报告

### 报告内容应包含

为了帮助我们更好地理解和解决问题，请在报告中包含：

- 漏洞类型（例如：SQL 注入、XSS、认证绕过等）
- 受影响的版本
- 复现步骤（越详细越好）
- 概念验证代码（如果有）
- 潜在影响评估
- 可能的修复建议（如果有）

### 响应时间

- **确认**: 我们将在 48 小时内确认收到你的报告
- **初步评估**: 我们将在 7 天内提供初步评估
- **修复计划**: 根据严重程度，我们将制定修复计划
- **发布**: 安全修复将优先发布

### 安全更新流程

1. **验证**: 我们将验证报告的问题
2. **开发**: 开发补丁修复漏洞
3. **测试**: 在多个环境中测试补丁
4. **发布**: 发布新版本
5. **通知**: 通知用户升级
6. **披露**: 在修复发布后适当披露漏洞详情

## 安全最佳实践

### 生产部署建议

1. **认证和授权**
   - 修改默认管理员密码
   - 使用强密码（至少 12 字符，包含大小写字母、数字和特殊字符）
   - 限制管理界面的访问（使用防火墙规则）
   - 考虑使用反向代理添加额外的认证层

2. **HTTPS/TLS**
   - 启用自动 HTTPS
   - 使用有效的电子邮箱接收 Let's Encrypt 通知
   - 强制 HTTPS 重定向
   - 定期检查证书有效期

3. **网络安全**
   - 使用防火墙限制入站连接
   - 只开放必要的端口（80, 443, 8081）
   - 考虑使用 VPN 访问管理界面
   - 实施速率限制防止 DDoS

4. **系统安全**
   - 保持系统和依赖项更新
   - 使用非 root 用户运行服务
   - 启用系统日志和审计
   - 定期备份配置和证书

5. **Docker 安全**
   - 使用官方基础镜像
   - 以非 root 用户运行容器
   - 限制容器资源
   - 定期更新镜像

6. **配置安全**
   - 不要在配置文件中硬编码敏感信息
   - 使用环境变量管理密码
   - 限制配置文件权限（600 或 400）
   - 不要提交包含密码的配置文件到版本控制

### 监控和审计

1. **日志记录**
   - 启用详细日志
   - 定期审查日志
   - 使用日志分析工具

2. **监控**
   - 监控异常访问模式
   - 设置告警通知
   - 跟踪性能指标

3. **定期审计**
   - 审查代理规则
   - 检查证书状态
   - 验证缓存配置

## 已知的安全考虑

### 缓存相关

- 缓存可能包含敏感数据，确保适当配置 TTL
- 持久化缓存应存储在安全位置
- 定期清理缓存

### 管理界面

- 默认在所有接口上监听，考虑绑定到特定 IP
- 使用 HTTP Basic 认证，考虑添加额外认证层
- 管理端口应限制访问

### 反向代理

- 验证后端服务的可信度
- 注意防止 SSRF 攻击
- 配置适当的超时设置

## 安全更新通知

订阅安全更新：

- Watch 本仓库以接收通知
- 查看 [Releases](https://github.com/chentyke/saddy/releases) 页面
- 关注 [Security Advisories](https://github.com/chentyke/saddy/security/advisories)

## 致谢

我们感谢负责任地披露安全问题的研究人员。在征得你的同意后，我们会在安全公告中致谢。

---

**注意**: 本安全政策可能会随时更新。请定期查看以了解最新的安全实践和政策。

最后更新: 2025-10-24

